# 汎用 Requirements.md 生成プロンプト (TDD拡張版)

## プロンプト

`user_request.md` の内容に基づいて、アプリケーションの要件定義書を **テスト駆動開発（TDD）のアプローチを前提として** 作成してください。

**入力ファイル:**
- `user_request.md` (ユーザーの要望を記述したファイル)

**生成する要件定義書の仕様：**

1.  **形式要件**
    *   ユーザーストーリー形式で記述する（例：「ユーザーとして〜したい。そうすることで〜できる。」）
    *   各要件に、受け入れ条件（Acceptance Criteria）を明確に記述する。
    *   受け入れ条件は、振る舞いを検証可能な形式（例：GIVEN-WHEN-THEN形式）で、具体例を交えて記述する。

2.  **TDDを指向した内容要件**
    *   **最小単位の振る舞いへの分解**: **入力ファイルの内容**を分析し、機能要件を **独立してテスト可能な最小単位の振る舞い** にまで分解してください。これがTDDの各サイクルの対象となります。
    *   **テストシナリオとしての受け入れ条件**: 各振る舞いに対する受け入れ条件は、そのままテストコードに変換できるレベルの具体性で記述してください（例：「正の数を2つ渡すと、その合計が返される」）。
    *   **正常系と異常系の網羅**: それぞれの振る舞いに対して、期待される正常な結果（ハッピーパス）だけでなく、エッジケースやエラー条件（例: 不正な入力、空の入力）も受け入れ条件として定義してください。
    *   **一意なID**: 各要件と各受け入れ条件に、後で参照できるよう一意のIDを割り振ってください。
    *   **非機能要件**: パフォーマンス、セキュリティ、ユーザビリティなどの非機能要件も、可能であれば観測・テスト可能な形で定義してください。

この要件定義書は、開発者が各項目をTDDの「Red（失敗するテストを書く）」ステップの入力として直接利用できることを目指します。